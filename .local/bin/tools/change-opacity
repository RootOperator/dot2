#!/bin/bash

WINDOW=$(hyprctl activewindow | grep -P -o "Window \K[0-9]\w*")
OPACITY=$(grep -P -o "active_opacity = \K[0-9].*"  ~/.config/hypr/hyprland.conf | head -1)

if [ -f /tmp/OPACITY ]
then
    hyprctl setprop address:0x$WINDOW alphaoverride $OPACITY
    rm /tmp/OPACITY
else
    touch /tmp/OPACITY
    hyprctl setprop address:0x$WINDOW alphaoverride 1
fi

